{"version":3,"sources":["components/Input.js","components/List.js","pages/TodoList.js","index.js"],"names":["Input","addTodo","props","addTodoFa","onKeyup","e","keyCode","htmlFor","id","ref","inp","input","this","data","handldChangeFa","onClick","bind","React","Component","List","delTodo","idx","delTodoFa","toggle","toggleFa","renderTodos","done","todos","map","todo","key","type","defaultChecked","dangerouslySetInnerHTML","__html","title","arr1","inpValue","filter","item","arr2","length","TodoList","newTodos","JSON","parse","stringify","state","setState","handldChange","target","value","index","localStorage","setItem","todoss","getItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f2d182e0.chunk.js","sourcesContent":["import React from 'react';\r\nclass Input extends React.Component{\r\n\r\n\r\n\r\n\r\n\r\n    addTodo = () =>{\r\n        // this.input.focus();\r\n        this.props.addTodoFa();\r\n    }\r\n    onKeyup=(e)=>{\r\n        if(e.keyCode === 13) {\r\n            this.addTodo();\r\n        }\r\n    }\r\n   \r\n\r\n    render(){\r\n        return <div>\r\n            <label htmlFor=\"inp\"><h1>todolist</h1></label>\r\n            <input \r\n                id='inp'\r\n                ref={inp=>{this.input=inp}}\r\n                ref = 'inp'\r\n                value={this.props.data}\r\n                type=\"text\"\r\n                onChange={this.props.handldChangeFa}\r\n                onKeyUp={this.onKeyup}\r\n             />\r\n\r\n                \r\n            <button onClick={this.addTodo.bind(this)}>添加</button>\r\n        </div>\r\n    }\r\n}\r\n\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nclass List extends React.Component{\r\n\r\n\r\n\r\n    // delTodo = (idx)=>{\r\n    //     this.props.data.setState({\r\n    //         todos: this.props.data.todos.filter((item, index)=>idx!=index)\r\n    //     },\r\n    //     ()=>{\r\n    //         localStorage.setItem(\r\n    //             'todos',\r\n    //             JSON.stringify(this.props.data.todos)\r\n    //         )\r\n    //     });\r\n    // }\r\n    \r\n\r\n    delTodo = (idx) => {\r\n        this.props.delTodoFa(idx);\r\n    }\r\n\r\n    toggle = (idx) => {\r\n        // console.log(this.props.data);\r\n        this.props.toggleFa(idx);\r\n    }\r\n    renderTodos = (done)=>{\r\n        // console.log(this.props.data)\r\n        return this.props.data.todos.map((todo,idx)=>{\r\n            if(done == todo.done){\r\n                return <li key={idx}>\r\n                    <input type=\"checkbox\" onClick={this.toggle.bind(this, idx)} defaultChecked={done}/>\r\n                    <span dangerouslySetInnerHTML={{__html:todo.title}}></span>\r\n                    {/* <span>{todo.title}</span> */}\r\n                    {/* <button onClick={()=>this.delTodo(idx)}>del</button> */}\r\n                    <button onClick={this.delTodo.bind(this, idx)}>del</button>\r\n                </li>\r\n                 \r\n                    // \r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    render(){\r\n        const {todos, inpValue} = this.props.data;\r\n        let arr1 = todos.filter(item=>!item.done)\r\n        let arr2 = todos.filter(item=>item.done)\r\n        return (\r\n            <div>\r\n                <h2>正在进行{arr1.length}</h2>\r\n                <ul>\r\n                    {\r\n                        this.renderTodos(false)\r\n                    }\r\n                </ul>\r\n                <h2>已经完成{arr2.length}</h2>\r\n                <ul>\r\n                    {\r\n                        this.renderTodos(true)\r\n                    }\r\n                </ul>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default List;","import React,{Component} from 'react';\r\nimport Input from '../components/Input';\r\nimport List from '../components/List';\r\n\r\nclass TodoList extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            inpValue: '',\r\n            todos: [\r\n                // {title: 1, done: false},\r\n                // {title: 2, done: true},\r\n                // {title: 3, done: false},\r\n                // {title: 4, done: true},\r\n                // {title: 5, done: false},\r\n            ]\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        // this.input.focus();\r\n        let todoss = localStorage.getItem('todos');\r\n        if(todoss){\r\n            this.setState({\r\n                todos: JSON.parse(todoss)\r\n            })\r\n        }\r\n    }\r\n    componentDidUpdate(){\r\n        localStorage.setItem(\r\n            'todos',\r\n            JSON.stringify(this.state.todos)\r\n        )\r\n        return true;\r\n    }\r\n\r\n    toggle = (idx) => {\r\n        let newTodos = JSON.parse(JSON.stringify(this.state.todos))\r\n        newTodos[idx].done = !newTodos[idx].done;\r\n        this.setState({\r\n            todos: newTodos\r\n        })\r\n        // console.log(this.state.todos[idx])\r\n    }\r\n\r\n    handldChange = (e)=>{\r\n        // console.log(e.target.value)\r\n        this.setState({\r\n            inpValue: e.target.value\r\n        })\r\n    }\r\n\r\n    addTodo = ()=>{\r\n        if(this.state.inpValue !== ''){\r\n            this.setState({\r\n                todos: [\r\n                    {\r\n                        title: this.state.inpValue,\r\n                        done: false\r\n                    },\r\n                    ...this.state.todos\r\n                ]\r\n            })\r\n            this.state.inpValue = ''\r\n            \r\n        }\r\n    }\r\n    delTodo = (idx)=>{\r\n        this.setState({\r\n            todos: this.state.todos.filter((item, index)=>idx!=index)\r\n        },\r\n        ()=>{\r\n            localStorage.setItem(\r\n                'todos',\r\n                JSON.stringify(this.state.todos)\r\n            )\r\n        });\r\n    }\r\n\r\n   \r\n\r\n    render(){\r\n         \r\n        return <div>\r\n            <Input data = {this.state.inpValue} handldChangeFa={this.handldChange.bind(this)} addTodoFa={this.addTodo.bind(this)}/>\r\n\r\n\r\n\r\n            <List data = {this.state} toggleFa={this.toggle.bind(this)} delTodoFa={this.delTodo.bind(this)}/> \r\n            {/*  */}\r\n        </div>\r\n    }\r\n}\r\n\r\n\r\nexport default TodoList;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport TodoList from './pages/TodoList';\n\nReactDOM.render(\n    <TodoList />,\n    // <h1>hello</h1>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}