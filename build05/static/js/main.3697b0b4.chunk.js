(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{103:function(e,t,a){e.exports=a(185)},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(9),l=a.n(i),o=(a(108),a(47)),r=a(11),s=a(37),m=a(102),u=a(20),p={itemList:[],starList:[],username:"",num:0};var h=Object(s.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{username:t.value});case"aaa":return Object(u.a)(Object(u.a)({},e),{},{num:t.value});case"showItem":return Object(u.a)(Object(u.a)({},e),{},{itemList:t.value});case"showStar":return Object(u.a)(Object(u.a)({},e),{},{starList:t.value});case"takeStar":var a=Object(m.a)(e.starList),n=a.indexOf(t.value);return-1==n?a.push(t.value):a.splice(n,1),Object(u.a)(Object(u.a)({},e),{},{starList:a});default:return e}}}),d=Object(s.c)(h),f=a(24),b=a(38),E=a(39),g=a(41),v=a(40),y=a(17),j=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={selectedTab:""},n}return Object(E.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.location.pathname;return console.log(a),a.split("/").length>2||"login"===a.split("/")[1]?null:c.a.createElement("div",{style:{position:"fixed",width:"100%",bottom:0}},c.a.createElement(y.c,{unselectedTintColor:"#777",tabBarPosition:"bottom",tintColor:"#777",barTintColor:"white"},c.a.createElement(y.c.Item,(e={title:"\u9996\u9875",key:"home",icon:c.a.createElement("i",{className:"iconfont icon-home1"}),selectedIcon:c.a.createElement("i",{className:"iconfont icon-home"})},Object(f.a)(e,"title","\u9996\u9875"),Object(f.a)(e,"key","tbhome"),Object(f.a)(e,"selected","/"===a),Object(f.a)(e,"onPress",(function(){t.props.history.push("/")})),e)),c.a.createElement(y.c.Item,{icon:c.a.createElement("i",{className:"iconfont icon-dilanxianxingiconyihuifu_huabanfuben"}),selectedIcon:c.a.createElement("i",{className:"iconfont icon-ai66"}),title:"\u6536\u85cf",key:"star",selected:"/star"===a,onPress:function(){""===d.getState().items.username?t.props.history.push({pathname:"/login",state:{val:"/star"}}):t.props.history.push("/star")}}),c.a.createElement(y.c.Item,{icon:c.a.createElement("i",{className:"iconfont icon-weibiao45127"}),selectedIcon:c.a.createElement("i",{className:"iconfont icon-list2"}),title:"\u8ba2\u5355\u5217\u8868",key:"list",selected:"/list"===a,onPress:function(){t.props.history.push("/list")}}),c.a.createElement(y.c.Item,{icon:c.a.createElement("i",{className:"iconfont icon-wode"}),selectedIcon:c.a.createElement("i",{className:"iconfont icon-wode1"}),title:"\u6211\u7684\u6dd8\u5b9d",key:"my",selected:"/mytaobao"===a,onPress:function(){t.props.history.push("/mytaobao")}})))}}]),a}(c.a.Component),O=Object(r.g)(j),k=a(82),N=a.n(k),w=a(101),x=function(e){return{type:"takeStar",value:e}},L=a(23),C=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={data:["1","2","3","4","5"],imgHeight:130},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({data:["https://gw.alicdn.com/imgextra/i2/69/O1CN012kgqDf1CNdxWjfTPO_!!69-0-lubanu.jpg","https://aecpm.alicdn.com/simba/img/TB15tIjGVXXXXcoapXXSutbFXXX.jpg","https://img.alicdn.com/tps/i4/https://img.alicdn.com/imgextra/i2/6000000006904/O1CN01dLPgGK20s54ErU225_!!6000000006904-0-octopus.jpg","https://gw.alicdn.com/imgextra/i3/191/O1CN01VWfpT01DHWHQurTZ7_!!191-0-lubanu.jpg","https://img.alicdn.com/tps/i4/https://img.alicdn.com/imgextra/i3/6000000005710/O1CN013xG97J1s3EAHqQry6_!!6000000005710-0-octopus.jpg"]})}),100)}},{key:"render",value:function(){var e=this;return c.a.createElement(y.e,{style:{width:"375px",marginLeft:"0px",touchAction:"none",paddingTop:"45px"}},c.a.createElement(y.a,Object(f.a)({autoplay:!0,infinite:!0,slideWidth:"375px",autoplayInterval:3e3},"slideWidth",1),this.state.data.map((function(t){return c.a.createElement("a",{key:t,href:"https://main.m.taobao.com/?sprefer=sypc00",style:{display:"inline-block",width:"100%",height:e.state.imgHeight}},c.a.createElement("img",{src:t,alt:"",style:{width:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize")),e.setState({imgHeight:"120px"})}}))}))))}}]),a}(c.a.Component),I=(a(182),a(183),Object(L.b)((function(e){return{itemList:e.items.itemList}}))((function(e){return c.a.createElement("div",{className:"line"},c.a.createElement("ul",null,e.itemList.map((function(e,t){return c.a.createElement(o.b,{key:t,to:{pathname:"/itemmsg/:"+e.id,state:{item:e}},className:"nav"},c.a.createElement("li",{className:"item"},c.a.createElement("img",{src:e.img,alt:""}),c.a.createElement("p",null,e.title),c.a.createElement("div",null,c.a.createElement("p",null,e.price))))}))))}))),T=function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void fetch("https://www.fastmock.site/mock/9e4bbf9e35ad15942010865690c87ac6/api/getgoodslist",{method:"post",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){d.dispatch({type:"showItem",value:e.data})})).catch((function(e){console.log(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=Object(L.b)()((function(e){return d.dispatch({type:"aaa",value:2}),T(),c.a.createElement("div",null,c.a.createElement("header",null,c.a.createElement("i",{className:"iconfont icon-taobao2"}),c.a.createElement("input",{type:"text",defaultValue:"\u5bfb\u627e\u5b9d\u8d1d\u5e97\u94fa",onClick:function(){return e.history.push("/search")}})),c.a.createElement(C,null),c.a.createElement("div",null,c.a.createElement(I,null)))})),_=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(y.b,{placeholder:"Search",defaultValue:"\u5b9d\u8d1d",showCancelButton:!0,maxLength:8,onCancel:function(){return e.props.history.goBack()}}),c.a.createElement(y.d,null))}}]),a}(c.a.Component);a(184);var X=Object(L.b)((function(e){return{starList:e.items.starList}}))((function(e){var t=e.location.state.item;return c.a.createElement("div",{className:"body"},c.a.createElement("i",{className:"iconfont icon-fanhui",onClick:function(){return e.history.goBack()}}),c.a.createElement("img",{src:t.img,className:"img"}),c.a.createElement("p",null,t.price),c.a.createElement("p",null,t.title),c.a.createElement("div",{className:"bott"},c.a.createElement("div",{className:"but"},c.a.createElement("i",{className:"iconfont icon-dianpu but_1"}),c.a.createElement("p",null,"\u5e97\u94fa")),c.a.createElement("div",{className:"but"},c.a.createElement("i",{className:"iconfont icon-kefu but_2"}),c.a.createElement("p",null,"\u5ba2\u670d")),c.a.createElement("div",{onClick:function(){""===d.getState().items.username&&e.history.push({pathname:"/login",state:{val:"/itemmsg/:"+t.id}}),e.dispatch(x(t.id)),console.log("add")},className:"but ".concat(-1==e.starList.indexOf(t.id)?null:"active")},c.a.createElement("i",{className:"iconfont icon-shoucang but_3"}),c.a.createElement("p",null,"\u6536\u85cf")),c.a.createElement("div",{className:"tbut"},c.a.createElement("button",{className:"but_4"},"\u52a0\u5165\u8d2d\u7269\u8f66"),c.a.createElement("button",{className:"but_5"},"\u7acb\u5373\u8d2d\u4e70"))))})),B=Object(L.b)((function(e){return{itemList:e.items.itemList,starList:e.items.starList}}))((function(e){return c.a.createElement("div",{className:"line"},c.a.createElement("ul",null,e.itemList.map((function(t,a){return-1!=e.starList.indexOf(t.id)?c.a.createElement("li",{key:a,className:"item",style:{marginLeft:"12px",marginBottom:"15px"}},c.a.createElement("img",{src:t.img,alt:""}),c.a.createElement("p",null,t.title),c.a.createElement("div",null,c.a.createElement("p",null,t.price),c.a.createElement("p",{onClick:function(){e.dispatch(x(t.id)),console.log("del")}},"\u53d6\u6d88\u6536\u85cf"))):null}))))})),P=function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){fetch("https://www.fastmock.site/mock/9e4bbf9e35ad15942010865690c87ac6/api/login",{method:"post",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){d.dispatch({type:"LOGIN",value:e.data.name}),console.log(d.getState())})),console.log(d.getState()),"/star"===e.location.state.val?e.history.replace(e.location.state.val):e.history.goBack()}},"\u767b\u5f55"))},H=function(){return c.a.createElement("div",null,c.a.createElement("p",null,"\u8ba2\u5355\u5217\u8868"))},G=function(){return c.a.createElement("div",null,c.a.createElement("p",null,"\u6211\u7684\u6dd8\u5b9d"))},W=function(){return c.a.createElement(L.a,{store:d},c.a.createElement(o.a,null,c.a.createElement(r.d,null,c.a.createElement(r.b,{exact:!0,path:"/",component:S}),c.a.createElement(r.b,{path:"/star",component:B}),c.a.createElement(r.b,{path:"/list",component:H}),c.a.createElement(r.b,{path:"/mytaobao",component:G}),c.a.createElement(r.b,{path:"/login",component:P}),c.a.createElement(r.b,{path:"/search",component:_}),c.a.createElement(r.b,{path:"/itemmsg/:id",component:X}),c.a.createElement(r.b,{render:function(){return c.a.createElement(r.a,{to:"/"})}})),c.a.createElement(O,null)))};l.a.render(c.a.createElement(W,null),document.getElementById("root"));fetch("https://www.fastmock.site/mock/9e4bbf9e35ad15942010865690c87ac6/api/getgoodslist",{method:"post",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.3697b0b4.chunk.js.map